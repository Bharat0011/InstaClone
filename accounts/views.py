from django.shortcuts import render,redirect
from django.contrib.auth.models import User
from django.contrib import auth
from myInsta.views import mainPage
from myInsta.models import Profile
# Create your views here.
def home(request):
    return render(request,'index.html')


def login(request):
    if request.method == 'POST':
        uname = request.POST['username']
        pwd = request.POST['password']
        user = auth.authenticate(username=uname,password=pwd)
        if user is not None:
            auth.login(request,user)
            return redirect(mainPage)
        else:
            return render(request,'login.html',{'error':'Username or Password not Correct'})
    else:
        return render(request,'login.html')

def logout(request):
    auth.logout(request)
    return redirect(home)


def signup(request):
    if request.method == 'POST':
        if request.POST['password1'] ==request.POST['password2']:
            try:
                user = User.objects.get(username=request.POST['username'])
                return render(request,'register.html',{'error':'Username Already Taken'})
            except User.DoesNotExist:
                user = User.objects.create_user(username=request.POST['username'],password=request.POST['password1'],first_name = request.POST['fname'],last_name = request.POST['lname'],email=request.POST['email'])
                # to login user directly after signup
                user_profile = Profile(curr_user=user,user_bio=" ",profile_pic='data:image/jpeg;base64,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')
                user_profile.save()
                auth.login(request,user,backend='django.contrib.auth.backends.ModelBackend')
                return redirect(login)
        else:
            return render(request,'register.html',{'error':'Passwords Dont Match'})
    else:
        return render(request,'register.html')


